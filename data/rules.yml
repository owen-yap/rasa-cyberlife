version: "2.0"

rules:
- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Activate cough form (coughing)
  steps:
  - intent: coughing
  - action: action_set_symptom
  - action: cough_form
  - active_loop: cough_form

- rule: Activate cough form (dry cough)
  steps:
  - intent: dry_cough
  - action: action_set_symptom
  - action: cough_form
  - active_loop: cough_form

- rule: Activate cough form (cough_with_phlegm)
  steps:
  - intent: cough_with_phlegm
  - action: action_set_symptom
  - action: cough_form
  - active_loop: cough_form

- rule: Activate cough form (coughing_up_blood)
  steps:
  - intent: coughing_up_blood
  - action: action_set_symptom
  - action: cough_form
  - active_loop: cough_form

- rule: Activate fever form
  steps:
  - intent: fever
  - action: action_set_symptom
  - action: fever_form
  - active_loop: fever_form

- rule: Activate stuffy nose form
  steps:
  - intent: stuffy_nose
  - action: action_set_symptom
  - action: nose_form
  - active_loop: nose_form

- rule: Activate runny nose form
  steps:
  - intent: runny_nose
  - action: action_set_symptom
  - action: nose_form
  - active_loop: nose_form

- rule: Activate headache form
  steps:
  - intent: headache
  - action: action_set_symptom
  - action: headache_form
  - active_loop: headache_form

- rule: Activate eye form
  steps:
  - intent: inform_eye_symptom
  - action: eye_form
  - active_loop: eye_form
 
- rule: Activate eye form (eye_redness)
  steps:
  - intent: eye_redness
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (eye_pain)
  steps:
  - intent: eye_pain
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (eye_injury)
  steps:
  - intent: eye_injury
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (eye_discharge)
  steps:
  - intent: eye_discharge
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form
  
- rule: Activate eye form (blurred_vision)
  steps:
  - intent: blurred_vision
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (double_vision)
  steps:
  - intent: double_vision
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (sensitivity_to_light)
  steps:
  - intent: sensitivity_to_light
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (photopsia)
  steps:
  - intent: photopsia
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (vision_loss)
  steps:
  - intent: vision_loss
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate eye form (floaters)
  steps:
  - intent: floaters
  - action: action_set_symptom
  - action: eye_form
  - active_loop: eye_form

- rule: Activate abdominal form (abdominal pain)
  steps:
  - intent: abdominal_pain
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (abdominal_tenderness)
  steps:
  - intent: abdominal_tenderness
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (abdominal_distension)
  steps:
  - intent: abdominal_distension
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (stomach_cramps)
  steps:
  - intent: stomach_cramps
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (diarrhea)
  steps:
  - intent: diarrhea
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (constipation)
  steps:
  - intent: constipation
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (flank_pain)
  steps:
  - intent: flank_pain
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (blood_in_stool)
  steps:
  - intent: blood_in_stool
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (dark_urine)
  steps:
  - intent: dark_urine
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (blood_in_urine)
  steps:
  - intent: blood_in_urine
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (pain_during_urination)
  steps:
  - intent: pain_during_urination
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (nausea)
  steps:
  - intent: nausea
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Activate abdominal form (vomiting)
  steps:
  - intent: vomiting
  - action: action_set_symptom
  - action: abdominal_pain_form
  - active_loop: abdominal_pain_form

- rule: Submit nose form
  condition:
  - active_loop: nose_form
  steps:
  - action: nose_form
  - active_loop: null
  - action: utter_additional_symptom_prompt
  
- rule: Submit fever form
  condition:
  - active_loop: fever_form
  steps:
  - action: fever_form
  - active_loop: null
  - action: utter_additional_symptom_prompt

- rule: Submit headache form
  condition:
  - active_loop: headache_form
  steps:
  - action: headache_form
  - active_loop: null
  - action: utter_additional_symptom_prompt

- rule: Submit cough form
  condition:
  - active_loop: cough_form
  steps:
  - action: cough_form
  - active_loop: null
  - action: utter_additional_symptom_prompt

- rule: Submit eye form
  condition:
  - active_loop: eye_form
  steps:
  - action: eye_form
  - active_loop: null
  - action: utter_additional_symptom_prompt

- rule: Submit abdominal pain form
  condition:
  - active_loop: abdominal_pain_form
  steps:
  - action: abdominal_pain_form
  - active_loop: null
  - action: utter_additional_symptom_prompt

- rule: Generate report when patient reports no additonal symptoms
  steps:
  - action: utter_additional_symptom_prompt
  - intent: deny
  - action: action_create_report