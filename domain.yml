version: '2.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- headache
- give_body_part
- goodbye
- affirm
- give_gender
- deny
- greet
- fever
- give_temperature
- give_age
- thank_you
- coughing
- stuffy_nose
- inform_allergy
- dry_cough
- cough_with_phlegm
- coughing_up_blood
- inform_asthma
- runny_nose
- inform_eye_symptom
- eye_redness
- eye_pain
- eye_injury
- eye_discharge
- blurred_vision
- double_vision
- sensitivity_to_light
- photopsia
- vision_loss
- floaters
- give_color
entities:
- allergy
slots:
  age:
    type: text
    influence_conversation: false
  gender:
    type: text
    influence_conversation: false
  confirm_allergy:
    type: bool
    influence_conversation: false
  allergy:
    type: text
    influence_conversation: false
  asthma:
    type: text
    influence_conversation: false
  coughing:
    type: bool
    influence_conversation: false
  cough_type:
    type: text
    influence_conversation: false
  dry_cough:
    type: bool
    influence_conversation: false
  cough_with_phlegm:
    type: bool
    influence_conversation: false
  phlegm_color:
    type: text
    influence_conversation: false
  coughing_up_blood:
    type: bool
    influence_conversation: false
  cough_duration:
    type: text
    influence_conversation: false
  chronic_cough:
    type: bool
    influence_conversation: false
  persistent_cough:
    type: bool
    influence_conversation: false
  pain_when_coughing:
    type: bool
    influence_conversation: false
  wheezing:
    type: bool
    influence_conversation: false
  noisy_breathing:
    type: bool
    influence_conversation: false
  shortness_of_breath:
    type: bool
    influence_conversation: false
  difficulty_breathing:
    type: bool
    influence_conversation: false
  fever:
    type: bool
    influence_conversation: false
  temperature:
    type: text
    influence_conversation: false
  fever_duration:
    type: text
    influence_conversation: false
  feeling_cold:
    type: bool
    influence_conversation: false
  chills:
    type: bool
    influence_conversation: false
  shivering:
    type: bool
    influence_conversation: false
  lethargy:
    type: bool
    influence_conversation: false
  fatigue:
    type: bool
    influence_conversation: false
  weakness:
    type: bool
    influence_conversation: false
  stuffy_nose:
    type: bool
    influence_conversation: false
  nasal_congestion:
    type: bool
    influence_conversation: false
  nose_symptom_duration:
    type: text
    influence_conversation: false
  runny_nose:
    type: bool
    influence_conversation: false
  facial_pain:
    type: bool
    influence_conversation: false
  sinus_pain:
    type: bool
    influence_conversation: false
  sinus_pressure:
    type: bool
    influence_conversation: false
  headache:
    type: bool
    influence_conversation: false
  headache_location:
    type: categorical
    influence_conversation: false
    values:
    - side of forehead
    - back of head
    - on left side
    - on right side
    - behind the eyes
    - forehead
    - all over
  headache_pain_scale:
    type: text
    influence_conversation: false
  severe_headache:
    type: text
    influence_conversation: false
  headache_type:
    type: categorical
    influence_conversation: false
    values:
    - throbbing
    - sharp
    - dull
  throbbing_headache:
    type: bool
    influence_conversation: false
  headache_duration:
    type: categorical
    influence_conversation: false
    values:
    - less than 4 hours
    - less than a day
    - less than 3 days
    - less than a week
    - more than a week
  persistent_headache:
    type: bool
    influence_conversation: false
  head_injury:
    type: bool
    influence_conversation: false
  stress:
    type: bool
    influence_conversation: false
  dizziness:
    type: bool
    influence_conversation: false
  lightheadedness:
    type: bool
    influence_conversation: false
  numbness:
    type: bool
    influence_conversation: false
  numbness_location:
    type: categorical
    influence_conversation: false
    values:
    - leg
    - foot
    - hand
    - others
  leg_numbness:
    type: bool
    influence_conversation: false
  foot_numbness:
    type: bool
    influence_conversation: false
  hand_numbness:
    type: bool
    influence_conversation: false
  neck_pain:
    type: bool
    influence_conversation: false
  stiff_neck:
    type: bool
    influence_conversation: false
  eye_surgery:
    type: bool
    influence_conversation: false
  diabetes:
    type: bool
    influence_conversation: false
  eye_symptom_location:
    type: categorical
    influence_conversation: true
    values:
    - left eye
    - right eye
    - both eyes
  eye_symptom_duration:
    type: categorical
    influence_conversation: true
    values:
    - less than a day
    - less than a week
    - less than 3 weeks
    - more than 3 weeks
  eye_redness:
    type: bool
    influence_conversation: false
  eye_pain:
    type: bool
    influence_conversation: false
  eye_pain_scale:
    type: bool
    influence_conversation: false
  eye_injury:
    type: bool
    influence_conversation: false
  eye_discharge:
    type: bool
    influence_conversation: false
  eye_discharge_color:
    type: text
    influence_conversation: false
  blurred_vision:
    type: bool
    influence_conversation: false
  double_vision:
    type: bool
    influence_conversation: false
  sensitivity_to_light:
    type: bool
    influence_conversation: false
  photopsia:
    type: bool
    influence_conversation: false
  photopsia_location:
    type: text
    influence_conversation: false
  vision_loss:
    type: bool
    influence_conversation: false
  floaters:
    type: bool
    influence_conversation: false
  contact_lens:
    type: text
    influence_conversation: false
responses:
  utter_greet:
  - text: |-
      Hi, I am Cyberlife! I am here to help your doctor with the consultation later.

      I will ask you questions about your symptoms and conditions. A report will be generated at the end and I will need your help to present it to your doctor later.

      This service provides general information only. It does not give a medical diagnosis or replace an appointment with a medical professional.
  utter_goodbye:
  - text: Bye
  utter_no_worries:
  - text: No problem! ðŸ˜„
  utter_ask_continue:
  - text: Sorry, I don't quite understand. Do you want to continue?
  utter_ask_age:
  - text: What is your age?
  utter_ask_gender:
  - text: What is your gender at birth?
  utter_ask_confirm_allergy:
  - text: Do you have any allergies?
  utter_ask_allergy:
  - text: Ok, what allergies do you have?
  utter_symptom_prompt:
  - text: Ok, which symptom is bothering you the most?
  utter_additional_symptom_prompt:
  - text: Are there any other symptoms which you may have?
  utter_submit:
  - text: Ok thanks
  utter_ask_asthma:
  - text: Do you currently or previously have asthma?
    buttons:
    - title: Previously had asthma
      payload: History of asthma
    - title: Currently have asthma
      payload: Patient has asthma
    - title: No asthma
      payload: No asthma
  utter_ask_cough_type:
  - text: Is the cough a dry cough or is there phlegm or blood?
    buttons:
    - title: Dry cough
      payload: dry
    - title: Cough with phlegm
      payload: phlegm
    - title: Cough with blood
      payload: blood
  utter_ask_phlegm_color:
  - text: What best describes the colour of your phlegm?
    buttons:
    - title: White or clear
      payload: white / clear
    - title: Green or yellow
      payload: green / yellow
    - title: Black
      payload: black
  utter_ask_cough_duration:
  - text: How long have you been coughing?
    buttons:
    - title: Less than a day
      payload: less than a day
    - title: Less than a week
      payload: less than a week
    - title: Less than 3 weeks
      payload: less than 3 weeks
    - title: 3 to 8 weeks
      payload: 3 to 8 weeks
    - title: More than 8 weeks
      payload: more than 8 weeks
  utter_ask_pain_when_coughing:
  - text: Is there pain when you cough?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_wheezing:
  - text: Has your breathing sounded wheezy or noisy?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_shortness_of_breath:
  - text: Any difficulty breathing or shortness of breath?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_temperature:
  - text: What is your last recorded body temperature?
  utter_ask_fever_duration:
  - text: How long have you had this symptom?
    buttons:
    - title: Less than a day
      payload: less than a day
    - title: Less than 3 days
      payload: less than 3 days
    - title: Less than a weeks
      payload: less than a weeks
    - title: more than a week
      payload: more than a week
  utter_ask_feeling_cold:
  - text: Have you been feeling cold for no reason?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_shivering:
  - text: Have you been shivering intensely or uncontrollably?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_lethargy:
  - text: Are you feeling extremely tired, lethargic or run down?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_stuffy_nose:
  - text: Is your nose blocked or stuffy?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_runny_nose:
  - text: Do you have runny nose?
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_nose_symptom_duration:
  - text: How long has the symptom been persisting?
    buttons:
    - title: Less than a day
      payload: less than a day
    - title: Less than 3 days
      payload: less than 3 days
    - title: Less than a weeks
      payload: less than a week
    - title: more than a week
      payload: more than a week
  utter_ask_facial_pain:
  - text: Do you feel any pain around your face or near your sinuses? (Your sinuses are located above the eyes and on both sides of the nose)
    buttons:
    - title: Yes
      payload: /affirm
    - title: No
      payload: /deny
  utter_ask_sinus_pain_scale:
  - text: On a scale of 1-10, 10 being the worst pain you have ever experienced, how painful is it?
  utter_ask_headache_location:
  - text: Where is your headache hurting the most?
    buttons:
    - title: side of forehead (temples)
      payload: side of forehead
    - title: back of head
      payload: back of head
    - title: on the left side
      payload: on left side
    - title: on the right side
      payload: on right side
    - title: behind the eyes
      payload: behind the eyes
    - title: forehead
      payload: forehead
    - title: all over
      payload: all over
  utter_ask_headache_type:
  - text: Is your headache one that comes and goes (throbbing), sharp, or dull?
    buttons:
    - title: throbbing
      payload: throbbing
    - title: sharp
      payload: sharp
    - title: dull
      payload: dull
  utter_ask_headache_pain_scale:
  - text: On a scale of 1 to 10, 10 being the worst headache you can imagine, how painful is your headache?
  utter_ask_headache_duration:
  - text: How long have you had this headache?
    buttons:
    - title: Less than a day
      payload: less than a day
    - title: Less than 3 days
      payload: less than 3 days
    - title: Less than a week
      payload: less than a weeks
    - title: more than a week
      payload: more than a week
  utter_ask_head_injury:
  - text: Have you hit your head against a hard object recently?
  utter_ask_dizziness:
  - text: Have you felt dizzy or lightheaded?
  utter_ask_numbness:
  - text: Do any parts of your body feel numb?
  utter_ask_numbness_location:
  - text: Which part feels numb?
    buttons:
    - title: leg
      payload: leg
    - title: foot
      payload: foot
    - title: hand
      payload: hand
  utter_ask_stress:
  - text: Have you been under intense stress recently?
  utter_ask_neck_pain:
  - text: Are you feeling neck stiffness or finding it difficult to move your neck?
  utter_ask_eye_surgery:
  - text: Have you had any eye surgery or eye laser treatment done within the last 3 months, or had retinal detachment surgery before?
    buttons:
    - title: Eye surgery / treatment done within last 3 months
      payload: Eye surgery / treatment done within last 3 months
    - title: Hsd retinal detachment surgery before
      payload: Had retinal detachment surgery before
    - title: No eye surgery / treatment done
      payload: No eye surgery / treatment done
  utter_ask_diabetes:
  - text: Do you have diabetes?
  utter_ask_eye_symptom_location:
  - text: Which eye is affected? Left, right or both?
    buttons:
    - title: Left eye
      payload: left eye
    - title: Right eye
      payload: right eye
    - title: Both eyes
      payload: both eyes
  utter_ask_eye_symptom_duration:
  - text: How long has it been since the symptoms in your eye started?
    buttons:
    - title: less than a day
      payload: less than a day
    - title: less than a week
      payload: less than a week
    - title: less than 3 weeks
      payload: more than 3 weeks
  utter_ask_eye_redness:
  - text: Is the white part of your eye red?
  utter_ask_eye_pain_scale:
  - text: On a scale of 1 to 10, 10 being the worst pain you can imagine, how painful is the affected eye?
  utter_ask_eye_injury:
  - text: Have you injured your eye recently?
  utter_ask_eye_discharge:
  - text: Is there any discharge / pus coming out from your eye?
  utter_ask_eye_discharge_color:
  - text: Ok, what color is the discharge?
    buttons:
    - title: clear / watery / white
      payload: clear / watery / white
    - title: yellow / green / gray
      payload: yellow / green / gray
    - title: blood
      payload: blood
  utter_ask_blurred_vision:
  - text: Since the symptom started, has your vision gotten blurry?
  utter_ask_double_vision:
  - text: Ok, then have you had any double vision?
  utter_ask_sensitivity_to_light:
  - text: Are you finding it difficult to look at bright lights because it causes pain to your eyes?
  utter_ask_photopsis:
  - text: Have you noticed any sudden flashes of light in your vision?
  utter_ask_photopsis_location:
  - text: Ok, where is the flashes of light occuring? In the centre or at the sides?
    buttons:
    - title: At the sides
      payload: sides
    - title: Centre
      payload: centre
  utter_ask_vision_loss:
  - text: Is there any sudden loss of vision?
  utter_ask_floaters:
  - text: Do you spot many floaters in your eye?
    image: https://d3b6u46udi9ohd.cloudfront.net/wp-content/uploads/2019/09/16063927/Eye-floaters-feature.png
  utter_ask_contact_lens:
  - text: Have you used contact lenses recently?
actions:
- action_create_report
- action_set_symptom
- utter_additional_symptom_prompt
- utter_goodbye
- utter_greet
- utter_no_worries
- utter_symptom_prompt
- validate_cough_form
- validate_eye_form
- validate_fever_form
- validate_headache_form
- validate_history_taking_form
- validate_nose_form
forms:
  history_taking_form:
    age:
    - type: from_text
    gender:
    - type: from_text
    confirm_allergy:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    - type: from_intent
      intent: inform_allergy
      value: true
  cough_form:
    asthma:
    - type: from_text
    cough_type:
    - type: from_text
    cough_duration:
    - type: from_text
    pain_when_coughing:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    wheezing:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    shortness_of_breath:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
  fever_form:
    temperature:
    - type: from_text
    fever_duration:
    - type: from_text
    feeling_cold:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    shivering:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    lethargy:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    shortness_of_breath:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
  nose_form:
    stuffy_nose:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    runny_nose:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    nose_symptom_duration:
    - type: from_text
    facial_pain:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
  headache_form:
    headache_location:
    - type: from_text
    headache_pain_scale:
    - type: from_text
    headache_type:
    - type: from_text
    headache_duration:
    - type: from_text
    head_injury:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    facial_pain:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    stress:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    dizziness:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    numbness:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    neck_pain:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
  eye_form:
    eye_surgery:
    - type: from_text
    diabetes:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    eye_symptom_location:
    - type: from_text
    eye_redness:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    eye_injury:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    eye_symptom_duration:
    - type: from_text
    eye_pain_scale:
    - type: from_text
    eye_discharge:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    blurred_vision:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    double_vision:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    sensitivity_to_light:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    photopsis:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    vision_loss:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    floaters:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
    contact_lens:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
